<HTML>
<HEAD>
<meta charset="UTF-8">
<title>CameraActivity.<init> - ginivision</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">ginivision</a>&nbsp;/&nbsp;<a href="../index.html">net.gini.android.vision.camera</a>&nbsp;/&nbsp;<a href="index.html">CameraActivity</a>&nbsp;/&nbsp;<a href="./-init-.html">&lt;init&gt;</a><br/>
<br/>
<h1>&lt;init&gt;</h1>
<a name="net.gini.android.vision.camera.CameraActivity$&lt;init&gt;()"></a>
<code><span class="identifier">CameraActivity</span><span class="symbol">(</span><span class="symbol">)</span></code>
<p>Screen API </p>
<p> <code>CameraActivity</code> is the main entry point to the Gini Vision Library when using the Screen API. </p>
<p> It shows a camera preview with tap-to-focus functionality, a trigger button and an optional flash on/off button. The camera preview also shows document corner guides to which the user should align the document. </p>
<p> On tablets in landscape orientation the camera trigger button is shown on the right side of the screen for easier access. </p>
<p> If you enabled document import with <code><a href="../../net.gini.android.vision/-gini-vision/-builder/set-document-import-enabled-file-types.html">GiniVision.Builder#setDocumentImportEnabledFileTypes(DocumentImportEnabledFileTypes)</a></code> then a button for importing documents is shown next to the trigger button. A hint popup is displayed the first time the Gini Vision Library is used to inform the user about document importing. </p>
<p> For importing documents <code>READ_EXTERNAL_STORAGE</code> permission is required and if the permission is not granted the Gini Vision Library will prompt the user to grant the permission. See <code>Customizing the Camera Screen</code> on how to override the message and button titles for the rationale and on permission denial alerts. </p>
<p> Start the <code>CameraActivity</code> with <code><a href="https://developer.android.com/reference/android/app/Activity.html#startActivityForResult(android.content.Intent, int)">android.app.Activity#startActivityForResult(Intent, * int)</a></code> to receive the extractions or a <code><a href="../../net.gini.android.vision/-gini-vision-error/index.html">GiniVisionError</a></code> in case there was an error. </p>
<p> These formerly mandatory extras have been deprecated. Still required if <code><a href="../../net.gini.android.vision/-gini-vision/index.html">GiniVision</a></code> is not used: </p>
<ul> <li><code><a href="-e-x-t-r-a_-i-n_-r-e-v-i-e-w_-a-c-t-i-v-i-t-y.html">CameraActivity#EXTRA_IN_REVIEW_ACTIVITY</a></code> - use the <code><a href="set-review-activity-extra.html"> </a></code> helper to set it. Must contain an explicit Intent to the <code><a href="../../net.gini.android.vision.review/-review-activity/index.html">ReviewActivity</a></code> subclass from your application </li>
<li><code><a href="-e-x-t-r-a_-i-n_-a-n-a-l-y-s-i-s_-a-c-t-i-v-i-t-y.html">CameraActivity#EXTRA_IN_ANALYSIS_ACTIVITY</a></code> - use the <code><a href="set-analysis-activity-extra.html"> </a></code> helper to set it. Must contain an explicit Intent to the <code><a href="../../net.gini.android.vision.analysis/-analysis-activity/index.html">AnalysisActivity</a></code> subclass from your application </li>
</ul>
 
<p> These optional extras have been deprecated. Should be set only if <code><a href="../../net.gini.android.vision/-gini-vision/index.html">GiniVision</a></code> is not used: </p>
<ul> <li><code><a href="-e-x-t-r-a_-i-n_-s-h-o-w_-o-n-b-o-a-r-d-i-n-g_-a-t_-f-i-r-s-t_-r-u-n.html">CameraActivity#EXTRA_IN_SHOW_ONBOARDING_AT_FIRST_RUN</a></code> - the Onboarding Screen is shown by default the first time the Gini Vision Library is started. You may disable it by setting this extra to <code>false</code> - we highly recommend keeping the default behavior </li>
<li><code><a href="-e-x-t-r-a_-i-n_-s-h-o-w_-o-n-b-o-a-r-d-i-n-g.html">CameraActivity#EXTRA_IN_SHOW_ONBOARDING</a></code> - if set to <code>true</code> the Onboarding Screen is shown when the Gini Vision Library is started </li>
<li><code><a href="-e-x-t-r-a_-i-n_-o-n-b-o-a-r-d-i-n-g_-p-a-g-e-s.html">CameraActivity#EXTRA_IN_ONBOARDING_PAGES</a></code> - custom pages for the Onboarding Screen as an <code><a href="https://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html">ArrayList</a></code> containing <code><a href="../../net.gini.android.vision.onboarding/-onboarding-page/index.html">OnboardingPage</a></code> objects </li>
<li><strong>Deprecated</strong> <code><a href="-e-x-t-r-a_-i-n_-b-a-c-k_-b-u-t-t-o-n_-s-h-o-u-l-d_-c-l-o-s-e_-l-i-b-r-a-r-y.html">CameraActivity#EXTRA_IN_BACK_BUTTON_SHOULD_CLOSE_LIBRARY</a></code> - if set to <code>true</code> the back button closes the Gini Vision Library from any of its activities with result code <code><a href="https://developer.android.com/reference/android/app/Activity.html#RESULT_CANCELED">CameraActivity#RESULT_CANCELED</a></code> </li>
<li><code><a href="-e-x-t-r-a_-i-n_-g-i-n-i_-v-i-s-i-o-n_-f-e-a-t-u-r-e_-c-o-n-f-i-g-u-r-a-t-i-o-n.html">CameraActivity#EXTRA_IN_GINI_VISION_FEATURE_CONFIGURATION</a></code> - must contain a instance to apply the feature configuration </li>
</ul>
 
<p> The following result codes need to be handled: </p>
<ul> <li><code><a href="https://developer.android.com/reference/android/app/Activity.html#RESULT_OK">CameraActivity#RESULT_OK</a></code> - image of a document was taken, reviewed and analyzed </li>
<li><code><a href="https://developer.android.com/reference/android/app/Activity.html#RESULT_CANCELED">CameraActivity#RESULT_CANCELED</a></code> - image of document was not taken, user canceled the Gini Vision Library </li>
<li><code><a href="-r-e-s-u-l-t_-e-r-r-o-r.html">CameraActivity#RESULT_ERROR</a></code> - an error occured </li>
</ul>
 
<p> Result extra returned by the <code>CameraActivity</code>: </p>
<ul> <li><code><a href="-e-x-t-r-a_-o-u-t_-e-x-t-r-a-c-t-i-o-n-s.html">CameraActivity#EXTRA_OUT_EXTRACTIONS</a></code> - set when result is <code><a href="https://developer.android.com/reference/android/app/Activity.html#RESULT_OK"> </a></code>, contains a Bundle with the extraction labels as keys and as values. </li>
<li><code><a href="-e-x-t-r-a_-o-u-t_-e-r-r-o-r.html">CameraActivity#EXTRA_OUT_ERROR</a></code> - set when result is <code><a href="-r-e-s-u-l-t_-e-r-r-o-r.html"> </a></code>, contains a <code><a href="../../net.gini.android.vision/-gini-vision-error/index.html">GiniVisionError</a></code> object detailing what went wrong </li>
</ul>
 
<p> <strong>Note:</strong> For returning the extractions from the Gini API you can add your own extras in <code><a href="../../net.gini.android.vision.review/-review-activity/on-add-data-to-result.html">ReviewActivity#onAddDataToResult(Intent)</a></code> or <code><a href="../../net.gini.android.vision.analysis/-analysis-activity/on-add-data-to-result.html">AnalysisActivity#onAddDataToResult(Intent)</a></code>. </p>
<p> If the camera could not be opened due to missing permissions, the content of the Camera Screen is replaced with a no-camera icon, a short message and an optional button. The button is shown only on Android 6.0+ and tapping the button leads the user to the Application Details page in the Settings. If these are shown on Android 5.0 and earlier means that the camera permission was not declared in your manifest. </p>
Customizing the Camera Screen 
<p> Customizing the look of the Camera Screen is done via overriding of app resources. </p>
<p> The following items are customizable: </p>
<ul> <li> <strong>Document corner guides:</strong> via the color resource named <code>gv_camera_preview_corners</code> </li>
<li> <strong>Camera trigger button:</strong> via images for mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi named <code>gv_camera_trigger_default.png</code> and <code>gv_camera_trigger_pressed.png</code> </li>
<li> <strong>Document import button:</strong> via images for mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi named <code>gv_document_import_icon.png</code> </li>
<li> <strong>Document import button subtitle text:</strong> via the string resource named <code>gv_camera_document_import_subtitle</code> </li>
<li> <strong>Document import button subtitle text style:</strong> via overriding the style named <code>GiniVisionTheme.Camera.DocumentImportSubtitle.TextStyle</code> </li>
<li> <strong>Document import button subtitle font:</strong> via overriding the style named <code>GiniVisionTheme.Camera.DocumentImportSubtitle.TextStyle</code> and setting an item named <code>gvCustomFont</code> with the path to the font file in your <code>assets</code> folder </li>
<li> <strong>Document import hint background:</strong> via the color resource named <code>gv_document_import_hint_background</code> </li>
<li> <strong>Document import hint close icon color:</strong> via the color resource name <code>gv_hint_close</code> </li>
<li> <strong>Document import hint text:</strong> via the string resource named <code>gv_document_import_hint_text</code> </li>
<li> <strong>Document import hint text size:</strong> via overriding the style named <code>GiniVisionTheme.Camera.DocumentImportHint.TextStyle</code> and setting an item named <code>android:textSize</code> with the desired <code>sp</code> size </li>
<li> <strong>Document import hint text color:</strong> via the color resource name <code>gv_document_import_hint_text</code> </li>
<li> <strong>Document import hint font:</strong> via overriding the style named <code>GiniVisionTheme.Camera.DocumentImportHint.TextStyle</code> and setting an item named <code>gvCustomFont</code> with the path to the font file in your <code>assets</code> folder </li>
<li> <strong>Images stack badge text style:</strong> via overriding the style named <code>GiniVisionTheme.Camera.ImageStackBadge.TextStyle</code> </li>
<li> <strong>Images stack badge font:</strong> via overriding the style named <code>GiniVisionTheme.Camera.ImageStackBadge.TextStyle</code> and setting an item named <code>gvCustomFont</code> with the path to the font file in your <code>assets</code> folder </li>
<li> <strong>Images stack badge background colors:</strong> via the color resources named <code>gv_camera_image_stack_badge_background</code> and <code>gv_camera_image_stack_badge_background_border</code> </li>
<li> <strong>Images stack badge background size:</strong> via the dimension resource named <code>gv_camera_image_stack_badge_size</code> </li>
<li> <strong>Images stack subtitle text:</strong> via the string resource named <code>gv_camera_image_stack_subtitle</code> </li>
<li> <strong>Images stack subtitle text style:</strong> via overriding the style named <code>GiniVisionTheme.Camera.ImageStackSubtitle.TextStyle</code> </li>
<li> <strong>Images stack subtitle font:</strong> via overriding the style named <code>GiniVisionTheme.Camera.ImageStackSubtitle.TextStyle</code> and setting an item named <code>gvCustomFont</code> with the path to the font file in your <code>assets</code> folder </li>
<li> <strong>Multi-page document page limit exceeded alert message:</strong> via the string resource named <code>gv_document_error_too_many_pages</code> </li>
<li> <strong>Multi-page document page limit exceeded alert positive button text:</strong> via the string resource named <code>gv_document_error_multi_page_limit_review_pages_button</code> </li>
<li> <strong>Multi-page document page limit exceeded alert cancel button text:</strong> via the string resource named <code>gv_document_error_multi_page_limit_cancel_button</code> </li>
<li> <strong>Read storage permission denied button color:</strong> via the color resource named <code>gv_accent</code> </li>
<li> <strong>QRCode detected popup background:</strong> via the color resource named <code>gv_qrcode_detected_popup_background</code> </li>
<li> <strong>QRCode detected popup texts:</strong> via the string resources named <code>gv_qrcode_detected_popup_message_1</code> and <code>gv_qrcode_detected_popup_message_2</code> </li>
<li> <strong>QRCode detected popup text sizes:</strong> via overriding the styles named <code>GiniVisionTheme.Camera.QRCodeDetectedPopup.Message1.TextStyle</code> and <code>GiniVisionTheme.Camera.QRCodeDetectedPopup.Message2.TextStyle</code> and setting an item named <code>android:textSize</code> with the desired <code>sp</code> size </li>
<li> <strong>QRCode detected popup text colors:</strong> via the color resource name <code>gv_qrcode_detected_popup_message_1</code> and <code>gv_qrcode_detected_popup_message_2</code> </li>
<li> <strong>QRCode detected popup fonts:</strong> via overriding the styles named <code>GiniVisionTheme.Camera.QRCodeDetectedPopup.Message1.TextStyle</code> and <code>GiniVisionTheme.Camera.QRCodeDetectedPopup.Message2.TextStyle</code> and setting an item named <code>gvCustomFont</code> with the path to the font file in your <code>assets</code> folder </li>
<li> <strong>Read storage permission rationale text:</strong> via the string resource named <code>gv_storage_permission_rationale</code> </li>
<li> <strong>Read storage permission rationale positive button text:</strong> via the string resource named <code>gv_storage_permission_rationale_positive_button</code> </li>
<li> <strong>Read storage permission rationale negative button text:</strong> via the string resource named <code>gv_storage_permission_rationale_negative_button</code> </li>
<li> <strong>Read storage permission rationale button color:</strong> via the color resource named <code>gv_accent</code> </li>
<li> <strong>Read storage permission denied text:</strong> via the string resource named <code>gv_storage_permission_denied</code> </li>
<li> <strong>Read storage permission denied positive button text:</strong> via the string resource named <code>gv_storage_permission_denied_positive_button</code> </li>
<li> <strong>Read storage permission denied negative button text:</strong> via the string resource named <code>gv_storage_permission_denied_negative_button</code> </li>
<li> <strong>Read storage permission denied button color:</strong> via the color resource named <code>gv_accent</code> </li>
<li> <strong>Tap-to-focus indicator:</strong> via images for mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi named <code>gv_camera_focus_indicator.png</code> </li>
<li> <strong>Help menu item icon:</strong> via images for mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi named <code>gv_help_icon.png</code> </li>
<li> <strong>Onboarding menu item title:</strong> via the string resource named <code>gv_show_onboarding</code> </li>
<li> <strong>Background color:</strong> via the color resource named <code>gv_background</code>. <strong>Note:</strong> this color resource is global to all Activities (<code><a href="index.html">CameraActivity</a></code>, , <code><a href="../../net.gini.android.vision.review/-review-activity/index.html">ReviewActivity</a></code>, <code><a href="../../net.gini.android.vision.analysis/-analysis-activity/index.html">AnalysisActivity</a></code>) </li>
<li> <strong>No-camera icon:</strong> via images for mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi named <code>gv_no_camera.png</code> </li>
<li> <strong>No camera permission text:</strong> via the string resource named <code>gv_camera_error_no_permission</code> </li>
<li> <strong>No camera permission text color:</strong> via the color resource named <code>gv_camera_error_no_permission</code> </li>
<li> <strong>No camera permission font:</strong> via overriding the style named <code>GiniVisionTheme.Camera.Error.NoPermission.TextStyle</code> and setting an item named <code>gvCustomFont</code> with the path to the font file in your <code>assets</code> folder </li>
<li> <strong>No camera permission text style:</strong> via overriding the style named <code>GiniVisionTheme.Camera.Error.NoPermission.TextStyle</code> and setting an item named <code>android:textStyle</code> to <code>normal</code>, <code>bold</code> or <code>italic</code> </li>
<li> <strong>No camera permission text size:</strong> via overriding the style named <code>GiniVisionTheme.Camera.Error.NoPermission.TextStyle</code> and setting an item named <code>android:textSize</code> to the desired <code>sp</code> size </li>
<li> <strong>No camera permission button title:</strong> via the string resource named <code>gv_camera_error_no_permission_button_title</code> </li>
<li> <strong>No camera permission button title color:</strong> via the color resources named <code>gv_camera_error_no_permission_button_title</code> and <code>gv_camera_error_no_permission_button_title_pressed</code> </li>
<li> <strong>No camera permission button font:</strong> via overriding the style named <code>GiniVisionTheme.Camera.Error.NoPermission.Button.TextStyle</code> and setting an item named <code>gvCustomFont</code> with the path to the font file in your <code>assets</code> folder </li>
<li> <strong>No camera permission button text style:</strong> via overriding the style named <code>GiniVisionTheme.Camera.Error.NoPermission.Button.TextStyle</code> and setting an item named <code>android:textStyle</code> to <code>normal</code>, <code>bold</code> or <code>italic</code> </li>
<li> <strong>No camera permission button text size:</strong> via overriding the style named <code>GiniVisionTheme.Camera.Error.NoPermission.Button.TextStyle</code> and setting an item named <code>android:textSize</code> to the desired <code>sp</code> size </li>
</ul>
 
<p> <strong>Important:</strong> All overriden styles must have their respective <code>Root.</code> prefixed style as their parent. Ex.: the parent of <code>GiniVisionTheme.Camera.Error.NoPermission.TextStyle</code> must be <code>Root.GiniVisionTheme.Camera.Error.NoPermission.TextStyle</code>. </p>
Customizing the Action Bar 
<p> Customizing the Action Bar is also done via overriding of app resources and each one - except the title string resource - is global to all Activities (<code><a href="index.html">CameraActivity</a></code>, , <code><a href="../../net.gini.android.vision.review/-review-activity/index.html">ReviewActivity</a></code>, <code><a href="../../net.gini.android.vision.review.multipage/-multi-page-review-activity/index.html">MultiPageReviewActivity</a></code>, ). </p>
<p> The following items are customizable: </p>
<ul> <li> <strong>Background color:</strong> via the color resource named <code>gv_action_bar</code> (highly recommended for Android 5+: customize the status bar color via <code>gv_status_bar</code>) </li>
<li> <strong>Title:</strong> via the string resource name <code>gv_title_camera</code> </li>
<li> <strong>Title color:</strong> via the color resource named <code>gv_action_bar_title</code> </li>
<li> <strong>Back button:</strong> via images for mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi named <code>gv_action_bar_back</code> </li>
</ul>
</BODY>
</HTML>
